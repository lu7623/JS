(()=>{"use strict";var e,t={474:(e,t,n)=>{n.r(t)},714:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),o=n(105),i=n(1);t.default=function(){return a(this,void 0,void 0,(function(){var e,t,n;return r(this,(function(a){switch(a.label){case 0:return e=document.querySelector(".createName"),t=document.querySelector(".createColor"),e instanceof HTMLInputElement&&t instanceof HTMLInputElement?(n={name:e.value,color:t.value},[4,c.API.createCar(n)]):[3,2];case 1:a.sent(),(0,o.paginationView)(),e.value="",t.value="#000000",(0,i.updateWinnersList)(),a.label=2;case 2:return[2]}}))}))}},86:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),o=n(997),i=n(105);t.default=function(){return a(this,void 0,void 0,(function(){var e,t;return r(this,(function(n){switch(n.label){case 0:e=0,n.label=1;case 1:return e<100?(t=(0,o.default)(),[4,c.API.createCar(t)]):[3,3];case 2:return 201===n.sent().status&&(e+=1),[3,1];case 3:return(0,i.paginationView)(),[2]}}))}))}},42:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onNext=t.onPrev=void 0;var a=n(751),r=n(105);t.onPrev=function(){a.currentGarage.page>0&&(a.currentGarage.page-=1,(0,r.paginationView)())},t.onNext=function(){a.currentGarage.maxPage&&(a.currentGarage.page<a.currentGarage.maxPage-1&&(a.currentGarage.page+=1),(0,r.paginationView)())}},971:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.stopAnimateRace=t.animateRace=t.stopAnimate=t.animate=void 0;var c=n(49),o=n(751),i=n(105);function s(e,t,n){var a=document.querySelector(".car".concat(e," .").concat(t));a instanceof HTMLButtonElement&&(a.disabled=!0);var r=document.querySelector(".car".concat(e," .").concat(n));r instanceof HTMLButtonElement&&(r.disabled=!1)}function l(e,t){return a(this,void 0,void 0,(function(){var n,a,o;return r(this,(function(r){switch(r.label){case 0:return(n=document.querySelector(".img".concat(String(e))))instanceof HTMLElement?(s(e,"a","b"),a=new KeyframeEffect(n,[{translate:"calc(100vw - 200px)"}],{duration:t,fill:"forwards"}),(o=new Animation(a,document.timeline)).play(),[4,c.API.driveCar(e,"drive")]):[3,2];case 1:if(500===r.sent().status)return o.pause(),[2,1e5];r.label=2;case 2:return[2,t]}}))}))}t.animate=function(e){return a(this,void 0,void 0,(function(){var t,n;return r(this,(function(a){switch(a.label){case 0:return e?[4,c.API.startEngineCar(e,"started")]:[3,2];case 1:(t=a.sent().engineCar)&&(n=(null==t?void 0:t.distance)/(null==t?void 0:t.velocity),l(e,n)),a.label=2;case 2:return[2]}}))}))},t.stopAnimate=function(e){return a(this,void 0,void 0,(function(){var t;return r(this,(function(n){return e&&(t=document.querySelector(".img".concat(e)),console.log(t),t instanceof HTMLElement&&(t.getAnimations().forEach((function(e){console.log(e),e.cancel()})),console.log("anim cancel"),s(e,"b","a"))),[2]}))}))},t.animateRace=function(){var e;return a(this,void 0,void 0,(function(){var t,n,i,s,u,d,f,h,m,p,v,g;return r(this,(function(w){switch(w.label){case 0:return[4,c.API.getAllCars({_page:o.currentGarage.page+1,_limit:7})];case 1:for(t=w.sent(),o.currentRace.carsCount=t.length,n=[],p=0;p<t.length;p++)n.push(c.API.startEngineCar(Number(t[p].id),"started"));return i=[],[4,Promise.all(n)];case 2:for(s=w.sent(),p=0;p<t.length;p++)(u=s[p].engineCar)&&(d=(null==u?void 0:u.distance)/(null==u?void 0:u.velocity),i.push([t[p].id,d]));for(f=[],p=0;p<t.length;p++)f.push(l(Number(i[p][0]),Number(i[p][1])));return[4,Promise.all(f)];case 3:for(h=w.sent(),m=Math.min.apply(Math,h),o.currentRace.winnerTime=Number((m/1e3).toFixed(3)),p=0;p<t.length;p++)h[p]===m&&(o.currentRace.winner=i[p][0]),i[p][1]=h[p];return o.currentRace.results=i,o.currentRace.winner&&o.currentRace.winnerTime&&function(e,t){var n,i,s;a(this,void 0,void 0,(function(){var a,l;return r(this,(function(r){switch(r.label){case 0:return[4,c.API.getWinner(e)];case 1:return 200!==(a=r.sent()).status?[3,4]:(null===(n=a.winnerCar)||void 0===n?void 0:n.wins)&&(null===(i=a.winnerCar)||void 0===i?void 0:i.time)?[4,c.API.updateWinner({id:e,wins:(null===(s=a.winnerCar)||void 0===s?void 0:s.wins)+1,time:Math.min(t,a.winnerCar.time)})]:[3,3];case 2:r.sent(),r.label=3;case 3:return[3,6];case 4:return[4,c.API.createWinner({id:e,wins:1,time:t})];case 5:r.sent(),r.label=6;case 6:return[4,c.API.getCar(e)];case 7:return l=r.sent().garageCar,e in o.winnerList?(o.winnerList[e].wins+=1,o.winnerList[e].time=Math.min(t,o.winnerList[e].time)):l&&(o.winnerList[e]={carColor:l.name,carName:l.name,wins:1,time:t}),console.log(o.winnerList),[2]}}))}))}(o.currentRace.winner,o.currentRace.winnerTime),o.currentRace.winner?(v=alert,g="Winner is ".concat,[4,c.API.getCar(o.currentRace.winner)]):[3,5];case 4:v.apply(void 0,[g.apply("Winner is ",[null===(e=w.sent().garageCar)||void 0===e?void 0:e.name,", time "]).concat(o.currentRace.winnerTime,"s")]),w.label=5;case 5:return[2]}}))}))},t.stopAnimateRace=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){return(e=o.currentRace.results)&&(e.forEach((function(e){var t=document.querySelector(".img".concat(e[0]));console.log(t),t instanceof HTMLElement&&t.remove})),(0,i.paginationView)()),[2]}))}))}},82:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),o=n(105),i=n(1);t.default=function(e){return a(this,void 0,void 0,(function(){var t,n,a;return r(this,(function(r){switch(r.label){case 0:return e&&(t=e.target)instanceof Element&&(n=t.parentElement)?(a=n.id,[4,c.API.deleteCar(Number(a))]):[3,3];case 1:return r.sent(),[4,(0,i.deleteWinner)(Number(a))];case 2:r.sent(),r.label=3;case 3:return(0,o.paginationView)(),[2]}}))}))}},552:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),o=n(920),i=n(1);t.default=function(e){return a(this,void 0,void 0,(function(){var t,n,s,l,u,d,f,h=this;return r(this,(function(m){switch(m.label){case 0:return(t=e.target)instanceof Element&&(n=t.parentElement)?(s=n.id,[4,c.API.getCar(Number(s))]):[3,2];case 1:(l=m.sent()).garageCar&&((u=document.querySelector(".upgradeColor")).value=l.garageCar.color,(d=document.querySelector(".upgradeName")).value=l.garageCar.name,(f=document.querySelector(".upgrade"))instanceof HTMLButtonElement&&(f.disabled=!1),null==f||f.addEventListener("click",(function(){return a(h,void 0,void 0,(function(){var e,t;return r(this,(function(n){switch(n.label){case 0:return l.garageCar?(l.garageCar.color=u.value,l.garageCar.name=d.value,[4,c.API.updateCar(l.garageCar)]):[3,3];case 1:return n.sent(),[4,(0,i.updateWinnersList)()];case 2:n.sent(),(e=document.querySelector(".car".concat(l.garageCar.id," span")))&&(e.textContent=l.garageCar.name),(t=document.querySelector(".car".concat(l.garageCar.id," .car-img")))&&(t.innerHTML=(0,o.default)(Number(l.garageCar.id),l.garageCar.color)),u.value="#000000",d.value="",f instanceof HTMLButtonElement&&(f.disabled=!0),n.label=3;case 3:return[2]}}))}))}))),m.label=2;case 2:return[2]}}))}))}},1:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWinner=t.deleteWinner=t.updateWinnersList=void 0;var c=n(49),o=n(751);function i(){var e,t;return a(this,void 0,void 0,(function(){var n,a,i;return r(this,(function(r){switch(r.label){case 0:return[4,c.API.getWinners()];case 1:n=r.sent(),a=0,r.label=2;case 2:return a<n.length?(null===(e=n[a])||void 0===e?void 0:e.id)?[4,c.API.getCar(Number(n[a].id))]:[3,4]:[3,5];case 3:(i=r.sent()).garageCar&&(o.winnerList[Number(n[a].id)]={carColor:null===(t=i.garageCar)||void 0===t?void 0:t.color,carName:i.garageCar.name,wins:n[a].wins,time:n[a].time}),r.label=4;case 4:return a+=1,[3,2];case 5:return[2]}}))}))}t.updateWinnersList=i,t.deleteWinner=function(e){return a(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return delete o.winnerList[e],[4,c.API.deleteWinner(e)];case 1:return t.sent(),i(),[2]}}))}))},t.updateWinner=function(e){return a(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,c.API.updateWinner(e)];case 1:return t.sent(),i(),[2]}}))}))}},49:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.API=void 0;var r="http://127.0.0.1:3000/";t.API={getAllCars:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"garage"),e&&(t+="?_limit=".concat(e._limit,"&_page=").concat(e._page)),[4,fetch(t)];case 1:return[4,a.sent().json()];case 2:for(n=a.sent(),console.log(t),c=[],o=0;o<n.length;o+=1)c.push({id:n[o].id,name:n[o].name,color:n[o].color});return console.log(c),[2,c]}}))}))},getCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o,i;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"garage/").concat(e),[4,fetch(t)];case 1:return[4,(n=a.sent()).json()];case 2:return c=a.sent(),200!==(o=n.status)?[2,{status:o}]:(i={id:c.id,name:c.name,color:c.color},console.log(i),[2,{status:o,garageCar:i}])}}))}))},createCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o,i;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"garage/"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(n=a.sent()).json()];case 2:return c=a.sent(),o=n.status,i={id:c.id,name:c.name,color:c.color},console.log(i),[2,{status:o,garageCar:i}]}}))}))},deleteCar:function(e){return n(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="".concat(r,"garage/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent().status]}}))}))},updateCar:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o,i;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"garage/").concat(e.id),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(n=a.sent()).json()];case 2:return c=a.sent(),200!==(o=n.status)?[2,{status:o}]:(i={id:c.id,name:c.name,color:c.color},console.log({status:o,garageCar:i}),[2,{status:o,garageCar:i}])}}))}))},startEngineCar:function(e,t){return n(this,void 0,void 0,(function(){var n,c,o,i;return a(this,(function(a){switch(a.label){case 0:return n="".concat(r,"engine?id=").concat(e,"&status=").concat(t),[4,fetch(n,{method:"PATCH"})];case 1:return c=a.sent(),200!==(o=c.status)?[2,{status:o}]:[4,c.json()];case 2:return i=a.sent(),[2,{status:o,engineCar:{velocity:i.velocity,distance:i.distance}}]}}))}))},driveCar:function(e,t){return void 0===t&&(t="drive"),n(this,void 0,void 0,(function(){var n,c,o,i;return a(this,(function(a){switch(a.label){case 0:return n="".concat(r,"engine?id=").concat(e,"&status=").concat(t),[4,fetch(n,{method:"PATCH"})];case 1:return c=a.sent(),200!==(o=c.status)?[2,{status:o}]:[4,c.json()];case 2:return i=a.sent(),[2,{status:o,success:i.success}]}}))}))},getWinners:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"winners"),e&&(t+="?",Object.entries(e).forEach((function(e,n){t+="&".concat(e,"=").concat(n)}))),[4,fetch(t,{method:"GET"})];case 1:return[4,a.sent().json()];case 2:for(n=a.sent(),c=[],o=0;o<n.length;o+=1)c.push({id:n[o].id,wins:n[o].wins,time:n[o].time});return console.log(c),[2,c]}}))}))},getWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"winners/").concat(e),[4,fetch(t)];case 1:return n=a.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return o=a.sent(),[2,{status:c,winnerCar:{id:o.id,wins:o.wins,time:o.time}}]}}))}))},createWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"winners"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return n=a.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return o=a.sent(),[2,{status:c,winnerCar:{id:o.id,wins:o.wins,time:o.time}}]}}))}))},deleteWinner:function(e){return n(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="".concat(r,"winners/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent().status]}}))}))},updateWinner:function(e){return n(this,void 0,void 0,(function(){var t,n,c,o;return a(this,(function(a){switch(a.label){case 0:return t="".concat(r,"winners/").concat(e.id),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:e.wins,time:e.time})})];case 1:return n=a.sent(),200!==(c=n.status)?[2,{status:c}]:[4,n.json()];case 2:return o=a.sent(),[2,{status:c,winnerCar:{id:o.id,wins:o.wins,time:o.time}}]}}))}))}}},751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.currentWinners=t.winnerList=t.currentRace=t.currentGarage=void 0,t.currentGarage={carsCount:0,page:0},t.currentRace={carsCount:0},t.winnerList={},t.currentWinners={carsCount:0,page:0}},755:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementCreator=void 0;var n=function(){function e(e){this.element=this.createElement(e)}return e.prototype.createElement=function(e){var t=this;return this.element=document.createElement(e.tag),e.className&&this.setCssClasses(null==e?void 0:e.className),e.textContent&&this.setTextContent(e.textContent),e.callback&&this.setCallback(e.callback),e.id&&this.setId(e.id),e.attribute&&this.setAttribute(e.attribute),e.children&&e.children.forEach((function(e){t.addInnerElement(e)})),this.element},e.prototype.getElement=function(){return this.element},e.prototype.setCssClasses=function(e){var t=this;e.map((function(e){return t.element.classList.add(e)}))},e.prototype.setTextContent=function(e){void 0===e&&(e=""),this.element.textContent=e},e.prototype.setId=function(e){this.element.id=e},e.prototype.setAttribute=function(e){this.element.setAttribute(e.name,e.value)},e.prototype.setCallback=function(e){"function"==typeof e&&this.element.addEventListener("click",(function(t){return e(t)}))},e.prototype.addInnerElement=function(t){t instanceof e?this.element.append(t.getElement()):this.element.append(t)},e}();t.ElementCreator=n},997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=["AUDI","MERSEDES","TOYOTA","CHEVROLET","BMW","LEXUS","FORD","VOLVO","FERRARI","PORSCHE"],a=["Model 1","Model 2","Model 3","Model 4","Model 5","Model 6","Model 7","Model 8","Model 9","Model 10"];t.default=function(){return{name:(e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),"".concat(n[e]," ").concat(a[t])),color:"#".concat(Math.floor(16777215*Math.random()).toString(16))};var e,t}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return'<svg class="car-img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 150">\n        <defs>\n            <style>\n                .cls-1,\n                .cls-3 {\n                    fill: #000000;\n                }\n    \n                .cls-1,\n                .cls-4,\n                .cls-5,\n                .cls-6 {\n                    fill-rule: evenodd;\n                }\n    \n                .cls-2,\n                .cls-4 {\n                    fill: #fff7e5;\n                }\n    \n                .cls-5'.concat(e," {\n                    fill:").concat(t,';\n                }\n    \n                .cls-6 {\n                    fill: #f5dec5;\n                }\n            </style>\n        </defs>\n        <g id="Слой_2" data-name="Слой 2">\n            <g id="Objects">\n                <path class="cls-1"\n                    d="M377.51,74.36a24.8,24.8,0,1,1-38,11.14,31.63,31.63,0,0,1,3.78-5.25C350,72.74,368.81,72,377.51,74.36Z" />\n                <circle class="cls-2" cx="362.72" cy="94.28" r="18.08"\n                    transform="translate(-8.47 145.98) rotate(-22.5)" />\n                <circle class="cls-3" cx="362.72" cy="94.28" r="13.16"\n                    transform="translate(-8.47 145.98) rotate(-22.5)" />\n                <path class="cls-4"\n                    d="M362.72,82.66A11.61,11.61,0,0,1,373,88.81a16,16,0,0,0-20.52,0A11.63,11.63,0,0,1,362.72,82.66Z" />\n                <path class="cls-4"\n                    d="M362.72,104a8.13,8.13,0,0,1-7.23-4.72,10.58,10.58,0,0,0,14.47,0A8.14,8.14,0,0,1,362.72,104Z" />\n                <path class="cls-4"\n                    d="M362.72,86A8.25,8.25,0,0,1,370,90.4a11.36,11.36,0,0,0-14.56,0A8.25,8.25,0,0,1,362.72,86Z" />\n                <path class="cls-4"\n                    d="M362.72,101.36A5.77,5.77,0,0,1,357.59,98a7.5,7.5,0,0,0,10.26,0A5.77,5.77,0,0,1,362.72,101.36Z" />\n                <path class="cls-4"\n                    d="M362.72,88.81a5.48,5.48,0,0,1,4.83,2.9,7.53,7.53,0,0,0-9.65,0A5.47,5.47,0,0,1,362.72,88.81Z" />\n                <path class="cls-4"\n                    d="M362.72,99.23a3.82,3.82,0,0,1-3.4-2.23,5,5,0,0,0,6.8,0A3.8,3.8,0,0,1,362.72,99.23Z" />\n                <path class="cls-4"\n                    d="M362.72,91.66a2.62,2.62,0,0,0-2.61,2.62v.18a8.32,8.32,0,0,0,5.22,0,1.09,1.09,0,0,0,0-.18A2.62,2.62,0,0,0,362.72,91.66Z" />\n                <path class="cls-5').concat(e,'"\n                    d="M399.4,53.05c-2.29-15.52-8.59-23.71-29.11-24.15-14.7-.31-61.86,0-88.28.27-6.21-8.79-16-19.32-24.54-24.6S174.79-1.93,142,3.68,41.05,40.32,23.16,71.16c-19.32,18.72-10.45,30,12.64,31.19,4.71.25,18.51.49,37.73.7a28.43,28.43,0,1,1,53.77.48c75.85.55,174.63.91,202,1,2-11.41,5.43-20.23,11.13-26.6,8.53-9.55,34.13-9.56,42-5.74,6.22,3,8.23,9.36,9.73,17.76h.19a17.92,17.92,0,0,0,6.27-.44c3.33-1,2.82-7.35,2.48-15.41-.17-4.08,6-4.08,6-8.17C407.13,60,408.79,54.72,399.4,53.05Z" />\n                <path class="cls-1"\n                    d="M401.22,75.47c3.58-.06,13.43-.06,15.74,2.5s1.6,4.67.06,5.57-1,4.22-.77,5.63a67.35,67.35,0,0,1,1,6.91c.13,2.56-3.32,6.21-8.89,5.44s-8.77-2-11.07-4.93-4.48-5.44-2.05-6.78,5.5-.9,5.82-3.07A55.06,55.06,0,0,0,401.22,75.47Z" />\n                <path class="cls-4"\n                    d="M399.4,53.05C348.5,45,229.07,54.36,223,84.21,229.15,55.45,356.27,49.73,399.4,53.05Z" />\n                <path class="cls-6"\n                    d="M156.93,79.23C148.75,26.1,36,62.06,23.16,71.16,34.89,63.83,147,29.08,156.93,79.23Z" />\n                <path class="cls-4"\n                    d="M333.28,84.42H228.59a1.27,1.27,0,0,0-1.72,1.33h0a1.65,1.65,0,0,0,1.72,1.66H333.28A1.65,1.65,0,0,0,335,85.76h0A1.27,1.27,0,0,0,333.28,84.42Z" />\n                <path class="cls-4"\n                    d="M384.21,33c-49.33-.14-312.86,1.12-359.89,36.3C70.57,31.91,313.15,30.36,384.21,33Z" />\n                <path class="cls-4"\n                    d="M403.65,76.11c2.36-.17,9.34.2,11.77,1.28s2.05,2.18.26,2.82-12,.64-9.54.83,4.16.77,3.78,2.24-5.63,2.11-2.37,2.18,8.13,2.75,7,4.86-7.23,2.82-11.65,2.75-8.44.38-7.36-1.28,6.64-1.88,8.07-2.37c1.68-.57,3.13-2.3.76-2.88s-3.64-1.15-2-2.17,2.82-1.35,1.34-2.43-1.79-3.27-.57-3.84S401.64,76.26,403.65,76.11Z" />\n                <path class="cls-4"\n                    d="M238.39,102.42H145.92a9.81,9.81,0,0,0,3-2h87.29a.73.73,0,0,0,.24.6A10,10,0,0,0,238.39,102.42Z" />\n                <path class="cls-4"\n                    d="M253.31,7.84c4.84.85,7.6,2.17,11.88,6.94s7.62,8.14,10.41,11.72.39,7-5.72,6.8-78.15.86-82.78.87-4.27-4-4.28-7.56.32-13.75.5-15.94.36-4.19,8.32-4.42S243.7,6.15,253.31,7.84Z" />\n                <path class="cls-4"\n                    d="M119.64,20c-16.14,7.18-18.36,21.44,4.13,17.91,6.65-1,45.73-3.63,50.36-3.64s4.24-4,4.23-7.59-.41-13.75-.61-15.95S173.51,7.76,169.23,8C160.58,8.47,129.66,15.5,119.64,20Z" />\n                <path class="cls-4"\n                    d="M258.65,5.66c-81.08-4.59-133-2.26-163.06,26.1C115.18,4,185.71-2.61,258.65,5.66Z" />\n                <path class="cls-4"\n                    d="M180.35,44.23c0,3.33,13.37,1.75,13.37,0S180.35,40.83,180.35,44.23Z" />\n                <path class="cls-1"\n                    d="M100.5,68.64A25.37,25.37,0,1,1,75.13,94,25.37,25.37,0,0,1,100.5,68.64Z" />\n                <circle class="cls-2" cx="100.5" cy="94.01" r="18.49"\n                    transform="translate(-28.33 45.61) rotate(-22.5)" />\n                <path class="cls-1"\n                    d="M100.5,80.55A13.46,13.46,0,1,1,87,94,13.46,13.46,0,0,1,100.5,80.55Z" />\n                <path class="cls-4"\n                    d="M100.5,82.12A11.88,11.88,0,0,1,111,88.42a16.36,16.36,0,0,0-21,0A11.89,11.89,0,0,1,100.5,82.12Z" />\n                <path class="cls-4"\n                    d="M100.5,103.9a8.3,8.3,0,0,1-7.4-4.83,10.82,10.82,0,0,0,14.79,0A8.3,8.3,0,0,1,100.5,103.9Z" />\n                <path class="cls-4"\n                    d="M100.5,85.58a8.43,8.43,0,0,1,7.44,4.47,11.58,11.58,0,0,0-14.89,0A8.43,8.43,0,0,1,100.5,85.58Z" />\n                <path class="cls-4"\n                    d="M100.5,101.25a5.91,5.91,0,0,1-5.25-3.43,7.68,7.68,0,0,0,10.49,0A5.89,5.89,0,0,1,100.5,101.25Z" />\n                <path class="cls-4"\n                    d="M100.5,88.42a5.59,5.59,0,0,1,4.93,3,7.7,7.7,0,0,0-9.87,0A5.6,5.6,0,0,1,100.5,88.42Z" />\n                <path class="cls-4"\n                    d="M100.5,99.07A3.9,3.9,0,0,1,97,96.79a5.08,5.08,0,0,0,7,0A3.92,3.92,0,0,1,100.5,99.07Z" />\n                <path class="cls-4"\n                    d="M100.5,91.34A2.67,2.67,0,0,0,97.82,94a1.21,1.21,0,0,0,0,.19,8.7,8.7,0,0,0,5.34,0V94A2.67,2.67,0,0,0,100.5,91.34Z" />\n                <path class="cls-1"\n                    d="M27.55,88.12c2-.17,3.57,0,4,1.7s-2.5,6.24-5.8,8.21S13.45,99.73,8.9,99.55s-6.16-2.14-6.16-5.8S3.9,88,2.57,86.88-.91,84.56.42,83s3.31-3.93,6.25-4.37c2.68-.41,6.54-.82,10.78-1.15h0a26.2,26.2,0,0,0-4.6,9.06C12.34,88.41,23.27,88,27.55,88.12Z" />\n                <path class="cls-4"\n                    d="M29.27,88.73c1.53.45.87,1.71-.47,1.54s-17.58-.09-20.43,0S3.1,89.2,5.24,87.68s5.36-4.55,2.68-4.46S0,84.38,1.49,82.77s2.77-3.48,7.41-3.93,5.71-.71,4.64,1.43-3.38,4.79-2.14,6.25c1.06,1.26,1.72,2.3,11.53,2A37.68,37.68,0,0,1,29.27,88.73Z" />\n                <path class="cls-4"\n                    d="M153,84.42H128.73a13.79,13.79,0,0,1,1,3H153a1.65,1.65,0,0,0,1.72-1.67h0A1.72,1.72,0,0,0,153,84Zm-82.42,0H35.12a1.27,1.27,0,0,0-1.71,1.33h0a1.65,1.65,0,0,0,1.71,1.67H69.67A13.79,13.79,0,0,1,70.62,84.42Z" />\n                <path class="cls-4"\n                    d="M128.83,102.23l11.34.08c6.13,0,11-2.64,14.51-16.48h0a1.76,1.76,0,0,1-1.32.59H129.5a27.77,27.77,0,0,1-.67,15.81Z" />\n                <path class="cls-1" d="M129.85,88l17.71-.57H129.73Z" />\n                <path class="cls-1"\n                    d="M130.21,90.94l16.39-.52H130.16C130.18,90.6,130.2,90.77,130.21,90.94Z" />\n                <path class="cls-1"\n                    d="M130.33,93.85l13.45-.43H130.34C130.33,93.57,130.33,93.71,130.33,93.85Z" />\n                <path class="cls-1"\n                    d="M130.06,97.77l11.06-.35h-11C130.09,97.54,130.08,97.66,130.06,97.77Z" />\n                <path class="cls-1" d="M129.49,100.68l8.18-.26h-8.12Z" />\n                <path class="cls-6"\n                    d="M271.22,23.17c1.19,1.32,2.34,2.67,3.44,4.07a3.13,3.13,0,0,1,.81,2.71c-.61,1.92-3.94,2.2-5.56,2.16s-3.39,0-5.07,0c-3.19,0-6.39,0-9.58.07q-13.35.12-26.69.3l-27.2.35c-4.75.06-9.52.15-14.27.17a2.87,2.87,0,0,1-2.33-.82c-.93-1.19-.75-4.09-.76-5.55,0-2.5.08-5,.15-7.52l.09-2.56q3.57-.78,7.25-1.41C222.1,9.88,251.09,13.41,271.22,23.17Z" />\n                <path class="cls-4"\n                    d="M176.94,18.28l0,.83c.09,2.5.19,5,.2,7.52,0,.33,0,.66,0,1,0,1.27.08,3.52-.73,4.56a2.84,2.84,0,0,1-2.33.84c-1.13,0-2.28.08-3.41.13-2,.1-4,.21-6,.33q-8.08.48-16.17,1.06-5.67.39-11.32.84A137.54,137.54,0,0,1,176.94,18.28Z" />\n            </g>\n        </g>\n    </svg>')}},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(755),r=n(105),c=n(754),o=new a.ElementCreator({tag:"header",className:["header"],children:[new a.ElementCreator({tag:"h1",textContent:"Retro async race"})]}),i=new a.ElementCreator({tag:"main",className:["main"],children:[new a.ElementCreator({tag:"div",className:["navigation"],children:[new a.ElementCreator({tag:"button",className:["toGarage","nav-btn"],textContent:"Garage",callback:function(){return(0,r.garageView)()}}),new a.ElementCreator({tag:"button",className:["toWinners","nav-btn"],textContent:"Winners",callback:function(){return(0,c.winnersView)()}}),new a.ElementCreator({tag:"article",className:["main-container"]})]})]}),s=new a.ElementCreator({tag:"footer",className:["footer"],children:[new a.ElementCreator({tag:"a",className:["gh-link"],attribute:{name:"href",value:"https://github.com/lu7623"}}),new a.ElementCreator({tag:"span",textContent:"2023"}),new a.ElementCreator({tag:"a",className:["rs-link"],attribute:{name:"href",value:"https://rs.school/js/"}})]});t.default=function(){document.body.append(o.getElement(),i.getElement(),s.getElement())}},105:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.garageView=t.paginationView=t.viewGarageCar=void 0;var c=n(755),o=n(49),i=n(86),s=n(714),l=n(920),u=n(82),d=n(552),f=n(751),h=n(42),m=n(971),p=new c.ElementCreator({tag:"section",className:["panel"],children:[new c.ElementCreator({tag:"div",className:["controls"],children:[new c.ElementCreator({tag:"input",attribute:{name:"type",value:"text"},className:["createName"]}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"color"},className:["createColor"]}),new c.ElementCreator({tag:"button",className:["create"],textContent:"Create",callback:function(){return(0,s.default)()}}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"text"},className:["upgradeName"]}),new c.ElementCreator({tag:"input",attribute:{name:"type",value:"color"},className:["upgradeColor"]}),new c.ElementCreator({tag:"button",className:["upgrade"],textContent:"Upgrade",attribute:{name:"disabled",value:"true"}})]}),new c.ElementCreator({tag:"div",className:["btn-panel"],children:[new c.ElementCreator({tag:"button",className:["race"],textContent:"Race",callback:function(){return(0,m.animateRace)()}}),new c.ElementCreator({tag:"button",className:["reset"],textContent:"Reset",callback:function(){return(0,m.stopAnimateRace)()}}),new c.ElementCreator({tag:"button",className:["generate"],textContent:"Generate cars",callback:function(){return(0,i.default)()}})]})]}),v=new c.ElementCreator({tag:"section",className:["garage"],children:[new c.ElementCreator({tag:"h2",textContent:"Garage",children:[new c.ElementCreator({tag:"span",className:["all-cars"]})]}),new c.ElementCreator({tag:"h3",textContent:"Page #",children:[new c.ElementCreator({tag:"span",className:["page-number"]})]}),new c.ElementCreator({tag:"div",className:["garage-container"]}),new c.ElementCreator({tag:"button",className:["prev"],textContent:"Prev",callback:function(){return(0,h.onPrev)()}}),new c.ElementCreator({tag:"button",className:["next"],textContent:"Next",callback:function(){return(0,h.onNext)()}})]});function g(e){var t,n=new c.ElementCreator({tag:"div",className:["car-container","car".concat(e.id)],id:String(e.id),children:[new c.ElementCreator({tag:"button",className:["select"],textContent:"Select",callback:function(e){return(0,d.default)(e)}}),new c.ElementCreator({tag:"button",className:["remove"],textContent:"Remove",callback:function(e){return(0,u.default)(e)}}),new c.ElementCreator({tag:"div",className:["car"],children:[new c.ElementCreator({tag:"button",className:["a"],textContent:"A",callback:function(){return(0,m.animate)(e.id)}}),new c.ElementCreator({tag:"button",className:["b"],textContent:"B",attribute:{name:"disabled",value:""},callback:function(){return(0,m.stopAnimate)(e.id)}}),new c.ElementCreator({tag:"span",className:["car-name"],textContent:"".concat(e.name)}),new c.ElementCreator({tag:"div",className:["car-trace"],children:[new c.ElementCreator({tag:"div",className:["car-image","img".concat(e.id)]}),new c.ElementCreator({tag:"div",className:["flag"]})]})]})]});null===(t=document.querySelector(".garage-container"))||void 0===t||t.append(n.getElement());var a=document.querySelector(".car".concat(e.id," .car-image"));a&&e.id&&(a.innerHTML=(0,l.default)(e.id,e.color))}function w(){var e;return a(this,void 0,void 0,(function(){var t,n,a,c;return r(this,(function(r){switch(r.label){case 0:return t=f.currentGarage,[4,o.API.getAllCars()];case 1:for(t.cars=r.sent(),f.currentGarage.carsCount=f.currentGarage.cars.length,f.currentGarage.maxPage=Math.ceil(f.currentGarage.carsCount/7),(n=document.querySelector(".page-number"))instanceof HTMLElement&&(n.textContent="".concat(f.currentGarage.page+1)),(a=document.querySelector(".all-cars"))instanceof HTMLElement&&(a.textContent="(".concat(f.currentGarage.carsCount,")")),null===(e=document.querySelector(".garage-container"))||void 0===e||e.replaceChildren(),c=7*f.currentGarage.page;c<7*f.currentGarage.page+7;c+=1)f.currentGarage.cars[c]&&g(f.currentGarage.cars[c]);return[2]}}))}))}t.viewGarageCar=g,t.paginationView=w,t.garageView=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){return null==(e=document.querySelector(".main-container"))||e.replaceChildren(),null==e||e.append(p.getElement(),v.getElement()),w(),[2]}))}))}},89:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),r=n(105);t.default=function(){(0,a.default)(),(0,r.garageView)()}},754:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function o(e){try{s(a.next(e))}catch(e){c(e)}}function i(e){try{s(a.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,c,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.winnersView=void 0;var c=n(1),o=n(751),i=n(755),s=n(920),l=new i.ElementCreator({tag:"section",className:["winners"],children:[new i.ElementCreator({tag:"h2",textContent:"Winners",children:[new i.ElementCreator({tag:"span",className:["all-winners"]})]}),new i.ElementCreator({tag:"h3",textContent:"Page #",children:[new i.ElementCreator({tag:"span",className:["page-number-winners"]})]}),new i.ElementCreator({tag:"div",className:["winners-container"],children:[new i.ElementCreator({tag:"div",className:["winners-table"],children:[new i.ElementCreator({tag:"div",className:["table-head","winner-number"]}),new i.ElementCreator({tag:"div",className:["table-head","winner-car"],textContent:"Car"}),new i.ElementCreator({tag:"div",className:["table-head","winner-name"],textContent:"Name"}),new i.ElementCreator({tag:"div",className:["table-head","winner-wins"],textContent:"Wins"}),new i.ElementCreator({tag:"div",className:["table-head","winner-time"],textContent:"Best time"})]}),new i.ElementCreator({tag:"div",className:["winners-list"]})]}),new i.ElementCreator({tag:"button",className:["prev"],textContent:"Prev"}),new i.ElementCreator({tag:"button",className:["next"],textContent:"Next"})]});function u(e){return a(this,void 0,void 0,(function(){var t,n,a;return r(this,(function(r){return t=new i.ElementCreator({tag:"div",className:["winners-table"],children:[new i.ElementCreator({tag:"div",className:["table-line","winner-number"]}),new i.ElementCreator({tag:"div",className:["table-line","winner-car","car-image".concat(e)]}),new i.ElementCreator({tag:"div",className:["table-line","winner-name"],textContent:"".concat(o.winnerList[e].carName)}),new i.ElementCreator({tag:"div",className:["table-line","winner-wins"],textContent:"".concat(o.winnerList[e].wins)}),new i.ElementCreator({tag:"div",className:["table-line","winner-time"],textContent:"".concat(o.winnerList[e].time)})]}),null==(n=document.querySelector(".winners-list"))||n.append(t.getElement()),(a=document.querySelector(".car-image".concat(e)))&&e&&(a.innerHTML=(0,s.default)(e,o.winnerList[e].carColor)),[2]}))}))}t.winnersView=function(){return a(this,void 0,void 0,(function(){var e,t,n;return r(this,(function(a){switch(a.label){case 0:return null==(e=document.querySelector(".main-container"))||e.replaceChildren(),null==e||e.append(l.getElement()),null==(t=document.querySelector(".winners-list"))||t.replaceChildren(),[4,(0,c.updateWinnersList)()];case 1:for(n in a.sent(),o.winnerList)u(Number(n));return[2]}}))}))}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var c=n[e]={exports:{}};return t[e].call(c.exports,c,c.exports,a),c.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=a(89),a(474),(0,e.default)()})();